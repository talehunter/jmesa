The grid (below) demonstrates the order that things can be called when using the !TableFacade. The way to read this grid is when you are working with the !TableFacade you need to be careful that you do not try to set any attributes after they have been initialized. Remember that everything in the !TableFacade is lazy loaded. This means when you ask the facade for a given object it builds up everything it needs up to that point, either using the attributes you set, or pulling the defaults. The !TableFacade will throw an !IllegalStateException if you try to add something after it is too late, however, this grid should help you clarify what is going on internally. And, really, for the most part, the only thing you need to do is call the setters you need after constructing the !TableFacade and you'll be fine.

For example once you ask the facade for the Table, via the getTable() method, it is too late to add the stateAttr. The reason is because when the Table is constructed in the facade it internally also built the Limit object, which is required by the Table. 

|| *Order Of Calls* || *Required* ||
|| setWebContext() ||  ||
|| setStateAttr() ||  ||
|| setItems() ||  ||
|| *getLimit()* ||  ||
|| setTotalRows() ||  ||
|| setMaxRows() ||  ||
|| setItems() || Yes ||
|| setRowFilter() ||  ||
|| setColumnSort() ||  ||
|| addFilterMatcherMap() ||  ||
|| addFilterMatcher() ||  ||
|| setPreferences() ||  ||
|| setMessages() ||  ||
|| performFilterAndSort() ||  ||
|| setLimit() ||  ||
|| *getCoreContext()* ||  ||
|| setColumnProperties() || Yes (unless set table explicitly) ||
|| setCoreContext() ||  ||
|| *getTable()* ||  ||
|| setExportTypes() || Yes (if exporting) ||
|| setMaxRowsIncrements() ||  ||
|| setTable() ||  ||
|| *getToolbar()* ||  ||
|| setToolbar() ||  ||
|| *getView()* ||  ||
|| setView() ||  ||
|| *render()* ||  ||

_Note: between the getter method calls the order of the setters do not matter. What does matter is that by the time a getter method is called that everything that you want set is already set._

Another way to look at this is sometimes you do not need to worry about ever setting certain attributes. For instance if you are creating the !TableFacade just to get at the Limit then you do not have to set the items. However, the grid doesn't describe everything perfectly. In this instance even though you do not have to set the items, you would need to set the total rows to make a complete, and valid, Limit object. But the grid does still clearly show that you would only set the total rows after the getting the Limit object. 

Also, just to clarify the setItems() a little more. If you do set the items before getting the Limit then the Limit will use the items to figure out the total rows. You still can override the total rows after getting the Limit. The reason the setItems() shows up twice in the grid is because it is optional to just get the Limit, but required if you want to get the !CoreContext.